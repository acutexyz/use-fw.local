<?php 
	class ioe
	{
		/* PUBLIC: */
		
		public static function run()
		{	
			self::read();
			self::call_method();
		}
		
		pubjlic static function write($view_name)
		{
			$viewPath = sys::config("views")
			if(file_exists("views/".self::$view_name."php"))
				$content = file_get_contents("views/".$file_name);
			else
				trigger_error("View is not found");
		}
		
		/* PRIVATE: */
		
		private static $_object;
		private static $_method;
		
		private function __construct() {}
		
		private function read_get()
		{
			if(empty($_GET) && empty($_POST))
				return;
			
			if(isset($_GET['do']))
			{
				self::split_do($_GET['do']);
				return;
			}
			
			trigger_error("Wrong parameters in URL");
		}
		
		private function run()
		{
			if(!class_exists(self::$_object))
				trigger_error("Non-existent _object");
			
			if(!method_exists(self::$_object, self::$_method))
				trigger_error("Non-existent _method");
			
			$instance = new self::$_object;
			$method_to_call = self::$_method;
			$instance->$method_to_call();
		}
		
		private function split_do($do)
		{
			$splitted = preg_split("[/]", $do, 2);
			
			if(sizeof($splitted) != 2)
				trigger_error("Wrong <do> parameter");
			
			self::$_object = $splitted[0]."Controller";
			self::$_method = "do".$splitted[1];
		}
		
		public static function default_out()
		{
			return file_get_contents("default_inline.php");
		}
	}
?>
